<section id="contact" class="contact">
  <div class="container">
    <h2 class="section-title">Contact Us</h2>
    <div class="contact-container">
      <div class="contact-form">
        <h3>Get Your Free Consultation</h3>
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
          
          <div class="form-group">
            <label for="name">Full Name *</label>
            <input 
              type="text" 
              id="name" 
              formControlName="name"
              [class.error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
            >
            <div class="error-message" *ngIf="getErrorMessage('name')">
              {{ getErrorMessage('name') }}
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email Address *</label>
            <input 
              type="email" 
              id="email" 
              formControlName="email"
              [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
            >
            <div class="error-message" *ngIf="getErrorMessage('email')">
              {{ getErrorMessage('email') }}
            </div>
          </div>

          <div class="form-group">
            <label for="whatsapp">WhatsApp Number</label>
            <input 
              type="tel" 
              id="whatsapp" 
              formControlName="whatsapp"
              placeholder="+1 (555) 123-4567"
            >
          </div>

          <div class="form-group">
            <label for="service">Legal Service Needed</label>
            <select id="service" formControlName="service">
              <option 
                *ngFor="let service of services" 
                [value]="service.value"
              >
                {{ service.label }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="message">Case Details</label>
            <textarea 
              id="message" 
              formControlName="message"
              rows="4" 
              placeholder="Please describe your legal matter..."
              [class.error]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"
            ></textarea>
            <div class="error-message" *ngIf="getErrorMessage('message')">
              {{ getErrorMessage('message') }}
            </div>
          </div>

          <button 
            type="submit" 
            class="cta-button submit-button"
            [disabled]="contactForm.invalid"
          >
            Send Message
          </button>

          <div 
            class="success-message" 
            *ngIf="showSuccessMessage"
          >
            Thank you! Your message has been sent successfully. We'll contact you within 24 hours.
          </div>
        </form>
      </div>
      
      <div class="contact-info">
        <h3>Get In Touch</h3>
        <div class="contact-item" *ngFor="let info of contactInfo">
          <div class="contact-icon">{{ info.icon }}</div>
          <div>
            <strong>{{ info.label }}</strong><br>
            <span [innerHTML]="info.value.replace('\\n', '<br>')"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>